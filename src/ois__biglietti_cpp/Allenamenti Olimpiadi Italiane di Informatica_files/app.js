"use strict";angular.module("cmsocial",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","ui.router","ui.ace","angular-md5","oblador.lazytube"]).constant("API_PREFIX","/api/").config(function($locationProvider,$stateProvider,$urlRouterProvider){$locationProvider.html5Mode(false);$urlRouterProvider.when("/tasks/","/tasks/1").when("/task/{taskName}","/task/{taskName}/statement").when("/user/{userId}","/user/{userId}/profile").when("/ranking/","/ranking/1").when("/tecniques","/techniques").otherwise("/overview");var version=location.host.startsWith("digit.")?"digit":"training";$stateProvider.state("overview",{url:"/overview",templateUrl:"ccd8679989b40b3cc516d0bead5a983f3a5cbb42/views/homepage-"+version+".html",controller:"HomepageCtrl"}).state("sso",{url:"/sso",controller:"SSOCtrl"}).state("tasktree",{url:"/tasktree",templateUrl:"ccd8679989b40b3cc516d0bead5a983f3a5cbb42/views/task_tree.html",controller:"TaskTree"}).state("tasklist",{templateUrl:"ccd8679989b40b3cc516d0bead5a983f3a5cbb42/views/tasklist.html",controller:"TasklistSkel"}).state("tasklist.page",{url:"/tasks/{pageNum}?tag&q&order",templateUrl:"ccd8679989b40b3cc516d0bead5a983f3a5cbb42/views/tasks.html",controller:"TasklistPage"}).state("task",{url:"/task/{taskName}",templateUrl:"ccd8679989b40b3cc516d0bead5a983f3a5cbb42/views/task.html",controller:"TaskbarCtrl"}).state("task.statement",{url:"/statement",templateUrl:"ccd8679989b40b3cc516d0bead5a983f3a5cbb42/views/task.statement.html",controller:"StatementCtrl"}).state("task.submissions",{url:"/submissions",templateUrl:"ccd8679989b40b3cc516d0bead5a983f3a5cbb42/views/task.submissions.html",controller:"SubmissionsCtrl"}).state("task.attachments",{url:"/attachments",templateUrl:"ccd8679989b40b3cc516d0bead5a983f3a5cbb42/views/task.attachments.html",controller:"AttachmentsCtrl"}).state("task.stats",{url:"/stats",templateUrl:"ccd8679989b40b3cc516d0bead5a983f3a5cbb42/views/task.stats.html",controller:"StatsCtrl"}).state("ranking",{templateUrl:"ccd8679989b40b3cc516d0bead5a983f3a5cbb42/views/ranking.html",controller:"RankingSkel"}).state("ranking.page",{url:"/ranking/{pageNum}",templateUrl:"ccd8679989b40b3cc516d0bead5a983f3a5cbb42/views/ranking.page.html",controller:"RankingCtrl"}).state("user",{url:"/user/{userId}",templateUrl:"ccd8679989b40b3cc516d0bead5a983f3a5cbb42/views/user.html",controller:"UserbarCtrl"}).state("user.edit",{url:"/edit",templateUrl:"ccd8679989b40b3cc516d0bead5a983f3a5cbb42/views/user.edit.html",controller:"EdituserCtrl"}).state("user.profile",{url:"/profile",templateUrl:"ccd8679989b40b3cc516d0bead5a983f3a5cbb42/views/user.profile.html",controller:"UserpageCtrl"}).state("signup",{url:"/signup",templateUrl:"ccd8679989b40b3cc516d0bead5a983f3a5cbb42/views/signup.html",controller:"SignupCtrl"}).state("resources",{url:"/resources",templateUrl:"ccd8679989b40b3cc516d0bead5a983f3a5cbb42/views/resources.html",controller:"ResourcesCtrl"}).state("taskdesc",{url:"/taskdesc",templateUrl:"ccd8679989b40b3cc516d0bead5a983f3a5cbb42/views/taskdesc.html"}).state("forgot-account",{url:"/forgot-account",templateUrl:"ccd8679989b40b3cc516d0bead5a983f3a5cbb42/views/forgot-account.html",controller:"ForgotAccountCtrl"}).state("help",{url:"/help/{taskName}",templateUrl:"ccd8679989b40b3cc516d0bead5a983f3a5cbb42/views/help.html",controller:"HelpCtrl"}).state("tests",{url:"/tests",templateUrl:"ccd8679989b40b3cc516d0bead5a983f3a5cbb42/views/tests.html",controller:"TestsCtrl"}).state("material",{url:"/material",templateUrl:"ccd8679989b40b3cc516d0bead5a983f3a5cbb42/views/material.html",controller:"MaterialCtrl"}).state("lessons",{url:"/lessons",templateUrl:"ccd8679989b40b3cc516d0bead5a983f3a5cbb42/views/lessons.html",controller:"LessonsCtrl"}).state("test",{url:"/test/{testName}",templateUrl:"ccd8679989b40b3cc516d0bead5a983f3a5cbb42/views/testpage.html",controller:"TestpageCtrl"}).state("admin",{url:"/admin",templateUrl:"ccd8679989b40b3cc516d0bead5a983f3a5cbb42/views/admin.html",controller:"AdminCtrl"}).state("techniques",{url:"/tags/techniques",controller:"TechniquesPage",template:'<div class="container">\n  <legend>Tasks by technique</legend>\n  <div class="tag-group">\n    <span class="tag-group-item" ng-repeat="tag in tags" style="padding: 5px;">\n      <a ui-sref="tasklist.page({tag: tag, pageNum: 1})" class="label btn-info">\n        <i class="fa fa-tag"></i>\n        {{tag}}\n      </a>\n    </span>\n  </div>\n</div>'}).state("events",{url:"/tags/events",controller:"EventsPage",template:'<div class="container">\n  <div class="col-sm-5">\n    <legend>IOI</legend>\n    <div class="well">\n      <div ng-repeat="year in ioi" style="margin-bottom: 10px">\n        <em>Anno IOI: {{year}}</em>\n        <div class="tag-group">\n          <span class="tag-group-item" style="padding: 5px;" ng-if="year != 2010">\n            <a ui-sref="tasklist.page({tag: \'ioi\' + year + \',territoriali\', pageNum: 1})" class="label btn-info">\n              <i class="fa fa-tag"></i> selezioni territoriali\n            </a>\n          </span>\n          <span class="tag-group-item" style="padding: 5px;" ng-if="year == 2010">\n            <a class="label btn-warning" title="non svolte">\n              <i class="fa fa-tag"></i> selezioni territoriali\n            </a>\n          </span>\n          <span class="tag-group-item" style="padding: 5px;" ng-if="year != 2009">\n            <a ui-sref="tasklist.page({tag: \'ioi\' + year + \',nazionali\', pageNum: 1})" class="label btn-info">\n              <i class="fa fa-tag"></i> selezioni nazionali\n            </a>\n          </span>\n          <span class="tag-group-item" style="padding: 5px;" ng-if="year == 2009">\n            <a class="label btn-warning" title="non svolte">\n              <i class="fa fa-tag"></i> selezioni nazionali\n            </a>\n          </span>\n          <span class="tag-group-item" style="padding: 5px;">\n            <a ui-sref="tasklist.page({tag: \'ioi\' + year + \',ioi\', pageNum: 1})" class="label btn-info">\n              <i class="fa fa-tag"></i> ioi\n            </a>\n          </span>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class="col-sm-5">\n    <legend>Altre gare</legend>\n    <div class="well">\n      <div style="margin-bottom: 10px">\n        <em>OIS: Olimpiadi di Informatica a Squadre</em>\n        <div class="tag-group">\n          <span class="tag-group-item" style="padding: 5px;">\n            <a ui-sref="tasklist.page({tag: \'ois\', pageNum: 1})" class="label btn-info">\n              <i class="fa fa-tag"></i> ois\n            </a>\n          </span>\n        </div>\n      </div>\n      <div style="margin-bottom: 10px">\n        <em>GATOR: Gara di Allenamento Tor Vergata</em>\n        <div class="tag-group">\n          <span class="tag-group-item" style="padding: 5px;">\n            <a ui-sref="tasklist.page({tag: \'gator\', pageNum: 1})" class="label btn-info">\n              <i class="fa fa-tag"></i> gator\n            </a>\n          </span>\n        </div>\n      </div>\n      <div style="margin-bottom: 10px">\n        <em>ABC: Algoritmi Bergamo Contest</em>\n        <div class="tag-group">\n          <span class="tag-group-item" style="padding: 5px;">\n            <a ui-sref="tasklist.page({tag: \'abc\', pageNum: 1})" class="label btn-info">\n              <i class="fa fa-tag"></i> abc\n            </a>\n          </span>\n        </div>\n      </div>\n      <div style="margin-bottom: 10px">\n        <em>Gare di allenamento Istituto Roiti Ferrara</em>\n        <div class="tag-group">\n          <span class="tag-group-item" style="padding: 5px;">\n            <a ui-sref="tasklist.page({tag: \'roiti\', pageNum: 1})" class="label btn-info">\n              <i class="fa fa-tag"></i> roiti\n            </a>\n          </span>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>'}).state("video_cp",{url:"/resources/cp",templateUrl:"ccd8679989b40b3cc516d0bead5a983f3a5cbb42/views/resources.videos.html",controller:"VideoDario"}).state("video_pas",{url:"/resources/pascal",templateUrl:"ccd8679989b40b3cc516d0bead5a983f3a5cbb42/views/resources.videos.html",controller:"VideoPas"}).state("video_cpp",{url:"/resources/cpp",templateUrl:"ccd8679989b40b3cc516d0bead5a983f3a5cbb42/views/resources.videos.html",controller:"VideoCpp"}).state("video_dos",{url:"/resources/dos",templateUrl:"ccd8679989b40b3cc516d0bead5a983f3a5cbb42/views/resources.videos.html",controller:"VideoDos"}).state("video_alg",{url:"/resources/algoritmi",templateUrl:"ccd8679989b40b3cc516d0bead5a983f3a5cbb42/views/resources.videos.html",controller:"VideoAlg"}).state("video_sel",{url:"/resources/scolastiche",templateUrl:"ccd8679989b40b3cc516d0bead5a983f3a5cbb42/views/resources.videos.html",controller:"VideoSel"}).state("faq",{url:"/faq",templateUrl:"ccd8679989b40b3cc516d0bead5a983f3a5cbb42/views/faq.html",controller:"FAQCtrl"})}).controller("HomepageCtrl",function($scope,userManager,contestManager){$scope.me=userManager;$scope.cm=contestManager}).filter("repext",function(){return function(input){return input.replace(/.%l$/,".(cpp|c|pas)")}}).filter("outcomeToClass",function(){return function(input){if(input=="Correct")return"correct";if(input=="Not correct")return"wrong";return"partial"}}).filter("round",function(){return function(input,digits){if(input==undefined)return"N/A";var base=Math.pow(10,digits);return Math.round(input*base)/base}}).filter("timeFmt",function(){return function(input){if(input==undefined)return"N/A";return input.toFixed(3)+"s"}}).filter("memoryFmt",function(){return function(input){if(input==undefined)return"N/A";if(input>1024*1024)return(input/(1024*1024)).toFixed(1)+" MiB";else if(input>1024)return(input/1024).toFixed(0)+" KiB";return input+" B"}}).filter("multiplierToStyle",function(){return function(input){return"width: "+((Math.log10(input)+1)*45+10)+"%;"}}).filter("multiplierToScore",function(){return function(input){return Math.round(input*100)}}).filter("dateFmt",function(){return function(input){var d=new Date(1e3*+input);if(d.toDateString()==new Date(Date.now()).toDateString())return"oggi, "+("0"+d.getHours()).substr(-2)+":"+("0"+d.getMinutes()).substr(-2);d.setDate(d.getDate()+1);if(d.toDateString()==new Date(Date.now()).toDateString())return"ieri, "+("0"+d.getHours()).substr(-2)+":"+("0"+d.getMinutes()).substr(-2);d.setDate(d.getDate()-1);return("0"+d.getDate()).substr(-2)+"/"+("0"+(d.getMonth()+1)).substr(-2)+"/"+d.getFullYear()+", "+("0"+d.getHours()).substr(-2)+":"+("0"+d.getMinutes()).substr(-2)}});"use strict";angular.module("cmsocial").controller("AdminCtrl",function($scope,$http,$state,$window,notificationHub,userManager,contestManager,API_PREFIX){$scope.contest={};contestManager.getContestPromise().then(function(response){var cts=contestManager.getContest();var items=["forum_url","mail_from","mail_username","mail_password","title","mail_server","analytics","cookie_domain","description","recaptcha_public_key","recaptcha_secret_key","top_left_name","all_languages","languages"];for(var i=0;i<items.length;i++){$scope.contest[items[i]]=cts[items[i]]}if(cts["menu_on_db"]!=null)$scope.contest["menu"]=JSON.stringify(cts["menu_on_db"]);else $scope.contest["menu"]=""});$scope.submit=function(){var data={action:"alter"};for(var i in $scope.contest){if($scope.contest[i]=="")data[i]=null;else data[i]=$scope.contest[i]}if($scope.contest.menu=="")data["menu"]=null;else data["menu"]=JSON.parse($scope.contest.menu);$http.post(API_PREFIX+"contest",data).success(function(data,status,headers,config){$window.location.reload()}).error(function(data,status,headers,config){notificationHub.serverError(status)})};$scope.toggleLanguage=function toggleLanguage(language){var idx=$scope.contest.languages.indexOf(language);if(idx>-1){$scope.contest.languages.splice(idx,1)}else{$scope.contest.languages.push(language)}}});"use strict";angular.module("cmsocial").factory("contestManager",function($http,$window,notificationHub,API_PREFIX){var contest=null;var contestPromise;var createAnalytics=function createAnalytics(){!function(A,n,g,u,l,a,r){A.GoogleAnalyticsObject=l,A[l]=A[l]||function(){(A[l].q=A[l].q||[]).push(arguments)},A[l].l=+new Date,a=n.createElement(g),r=n.getElementsByTagName(g)[0],a.src=u,r.parentNode.insertBefore(a,r)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga");ga("create",contest.analytics);ga("send","pageview")};var analyticsCreated=false;var computeMenu=function computeMenu(access_level){var menu=[];if(contest==null)return menu;var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=contest.menu[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var category=_step.value;var entries=[];var _iteratorNormalCompletion2=true;var _didIteratorError2=false;var _iteratorError2=undefined;try{for(var _iterator2=category.entries[Symbol.iterator](),_step2;!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=true){var entry=_step2.value;if(entry["display"]=="admin"){if(access_level==0)entries.push(entry)}else if(entry["display"]=="logged"){if(access_level<7)entries.push(entry)}else if(entry["display"]=="unlogged"){if(access_level==7)entries.push(entry)}else{entries.push(entry)}}}catch(err){_didIteratorError2=true;_iteratorError2=err}finally{try{if(!_iteratorNormalCompletion2&&_iterator2.return){_iterator2.return()}}finally{if(_didIteratorError2){throw _iteratorError2}}}menu.push({title:category["title"],icon:category["icon"],entries:entries})}}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&_iterator.return){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}return menu};var menu=[];var getContestData=function getContestData(){contestPromise=$http({url:API_PREFIX+"contest",method:"POST",data:{action:"get"}}).then(function(response){contest=response.data;menu=[];for(var i=0;i<8;i++){menu.push(computeMenu(i))}$window.document.title=contest.title;if(!analyticsCreated){createAnalytics();analyticsCreated=true}},function(response){notificationHub.serverError(response.status)})};getContestData();return{getContest:function getContest(){return contest},getMenu:function getMenu(access_level){if(access_level==undefined)access_level=7;return menu[access_level]},getContestPromise:function getContestPromise(){return contestPromise},hasContest:function hasContest(){return contest!=null},hasParticipation:function hasParticipation(){if(contest==null)return true;return contest.participates===true},refreshContest:function refreshContest(){getContestData()},participate:function participate(){$http.post(API_PREFIX+"user",{action:"newparticipation"}).success(function(data,status,headers,config){getContestData()}).error(function(data,status,headers,config){notificationHub.serverError(status)})}}});"use strict";angular.module("cmsocial").directive("foot",function(){return{restrict:"E",templateUrl:"ccd8679989b40b3cc516d0bead5a983f3a5cbb42/views/footer.html"}});"use strict";angular.module("cmsocial").constant("words",{Close:{it:"Chiudi"},Submit:{it:"Invia"},Run:{it:"Esegui"},"Load file":{it:"Carica file"},Reset:{it:"Resetta"},Apply:{it:"Applica"},Update:{it:"Aggiorna"},"Browse...":{it:"Sfoglia..."},"Changes recorded":{it:"Modifiche registrate"},"No changes recorded":{it:"Nessuna modifica registrata"},"Leave empty if you don't want to change your password":{it:"Lascia questo campo vuoto se non vuoi cambiare la password"},MiB:{},sec:{},"Italian Olympiads in Informatics training website":{it:"Portale di allenamento delle Olimpiadi Italiane di Informatica"},"Welcome to the official training website for OII! Here you will be able to try and solve programming tasks by coding a solution in a programming language of your choice.":{it:"Benvenuto nella piattaforma ufficiale di allenamento per le OII! Qui avrai accesso a numerosi problemi ai quali potrai inviare delle soluzioni scritte in un linguaggio di programmazione a tua scelta."},"Learn progressively":{it:"Impara gradualmente"},"Tasks archive":{it:"Archivio dei problemi"},"Challenge yourself":{it:"Mettiti alla prova"},"Solve more problems":{it:"Risolvi tutti i problemi"},"Tasks from regionals":{it:"Problemi delle territoriali"},"Get to know others":{it:"Entra nella community"},"Go to the forum":{it:"Visita il forum"},"Browse the wiki":{it:"Leggi la wiki"},"Read the stats":{it:"Accedi alle statistiche"},"With algobadge you will be guided through a curated selection of tasks to solve, ordered by increasing difficulty, while being able to explore new algorithmic techniques in a gradual and effective way.":{it:"Con algobadge ti guideremo attraverso una selezione accurata di task da risolvere, ordinati per difficoltà crescente, che ti permetteranno di esplorare nuove tecniche algoritmiche in modo graduale ed efficace."},"The wide range of tasks available on this website will allow you to start from the easiest going to the toughest one: in this way you'll improve your programming abilities and your attitude to analyze and deal with hard computational problems!":{it:"La vasta scelta di problemi presenti nel sito ti permette di partire da quelli più facili fino ad arrivare a quelli più difficili: in questo modo migliorerai sempre più le tue abilità di programmazione e la tua capacità di analizzare ed affrontare problemi computazionali!"},"Challenge yourself by solving problems that appeared at the regional stage of the Italian Olympiads in Informatics. This is a good way to test your knowledge!":{it:"Sfidati a risolvere i problemi che sono stati dati alle selezioni territoriali delle Olimpiadi Italiane di Informatica. Questo è un ottimo modo per testare le tue conoscenze!"},"In the official wiki you will find detailed explanations and solutions of past problems, as well as thorough writeups of algorithmic techniques.":{it:"Nella wiki ufficiale troverai spiegazioni dettagliate e soluzioni di problemi passati, oltre che a tutorial approfonditi su tecniche algoritmiche avanzate."},"In the stats portal you will find information about past editions, like the ranking of students that participated before you, as well as which of them went on to compete at the international level.":{it:"Nel portale delle statistiche troverai informazioni sulle edizioni passate, tra cui come gli studenti che hanno partecipato prima di te si sono classificati, e quali di loro hanno gareggiato a livello internazionale."},"Introduce yourself to other students, discuss the tasks, clear up your doubts on: basic constructs of you programming language, algorithms and data structures, libraries, algorithm techniques, and much more!":{it:"Presentati agli altri aspiranti olimpici nel forum della piattaforma, discuti dei problemi, risolvi tutti i tuoi dubbi su: costrutti di base del tuo linguaggio di programmazione, algoritmi e strutture dati di libreria, tecniche algoritmiche, e tanto altro!"},Statement:{it:"Testo"},Attachments:{it:"Allegati"},"Download everything as zip":{it:"Scarica tutto come zip"},Stats:{it:"Statistiche"},Submissions:{it:"Sottoposizioni"},"Supported languages":{it:"Linguaggi supportati"},"Memory limit":{it:"Limite di memoria"},"Time limit":{it:"Limite di tempo"},Tags:{it:"Tag"},"Tags list":{it:"Elenco dei tag"},"Memory available for the execution of one testcase, measured in MiB.":{it:"La quantità di memoria, in MiB, disponibile per l'esecuzione di un testcase."},"Time available for the execution of one testcase, measured in seconds.":{it:"La quantità di tempo, in secondi, disponibile per l'esecuzione di un testcase."},"Tags are useful to classify tasks by a common characteristic or technique, such as: <i>greedy</i>, <i>graphs</i>, and so on.":{it:"I tag servono per classificare e raggruppare i problemi in base ad una caratteristica comune, ad esempio: <i>greedy</i>, <i>grafi</i>, e così via."},"Tag already exists":{it:"Il tag esiste già"},"Tag does not exist":{it:"Tag inesistente"},"Task does not exist":{it:"Problema inesistente"},"The task already has this tag":{it:"Il problema ha già questo tag"},"Task does not have tag":{it:"Il problema non ha tag"},"Task correctly tagged":{it:"Tag aggiunto correttamente al problema"},"Task correctly untagged":{it:"Tag rimosso correttamente dal problema"},"Maximum score":{it:"Punteggio massimo"},"Submit a solution":{it:"Invia una sottoposizione"},"Language:":{it:"Linguaggio:"},"Make sure to name your class ":{it:"Assicurati di chiamare la tua classe "},", otherwise compilation will fail.":{it:", altrimenti la compilazione non andrà a buon fine."},"Write your code here":{it:"Scrivi qui il tuo codice"},"Previous submissions":{it:"Sottoposizioni precedenti"},ID:{},"Time and date":{it:"Data e ora"},Status:{it:"Stato"},"File(s)":{it:"File"},"Submission details":{it:"Dettagli della sottoposizione"},"Compilation output":{it:"Output della compilazione"},"Compilation outcome:":{it:"Esito della compilazione:"},"Compilation time:":{it:"Tempo di compilazione:"},"Used memory:":{it:"Memoria utilizzata:"},"Standard output":{},"Standard error":{},Subtask:{},Testcase:{},Result:{it:"Risultato"},Details:{it:"Dettagli"},Time:{it:"Tempo"},Memory:{it:"Memoria"},"Too frequent submissions!":{it:"Sottoposizioni troppo frequenti!"},"You have a pending submission":{it:"Hai una sottoposizione in sospeso"},"Some files are missing!":{it:"Mancano alcuni file!"},"The files you sent are too big!":{it:"I file inviati sono troppo grandi!"},"The language of the files you sent is not recognized!":{it:"Linguaggio dei file inviati non riconosciuto!"},"The files you sent are in different languages!":{it:"I file inviati sono in linguaggi diversi!"},"Invalid archive!":{it:"Archivio non valido!"},"Number of people who solved it:":{it:"Numero di persone che l'hanno risolto:"},"Number of people who tried it:":{it:"Numero di persone che l'hanno provato:"},"Number of correct submissions:":{it:"Numero di soluzioni corrette:"},"Number of solutions submitted:":{it:"Numero di soluzioni inviate:"},"Users with the best solutions":{it:"Utenti con le soluzioni migliori"},"Task & quiz archive":{it:"Archivio problemi e quiz"},"All tasks":{it:"Tutti i problemi"},"Tasks by technique":{it:"Problemi per tecnica"},"Tasks by event":{it:"Problemi per evento"},Lessons:{it:"Lezioni"},Material:{it:"Materiale"},"Task categories":{it:"Problemi per categoria"},Quizzes:{it:"Selezioni scolastiche"},Ranking:{it:"Classifica"},Forum:{},"Sign up":{it:"Registrati"},"Log in":{it:"Entra"},"Log out":{it:"Esci"},"Stay signed in":{it:"Resta connesso"},"Forgot account?":{it:"Hai dimenticato le credenziali?"},"No such user":{it:"Utente inesistente"},"A code was sent, check your inbox":{it:"Il codice è stato spedito, controlla la casella di posta"},"You should already have received an email, if not, try tomorrow":{it:"Dovresti aver già ricevuto una mail, altrimenti riprova domani"},"Your new password was mailed to you":{it:"La nuova password ti è stata mandata per mail"},"Wrong code":{it:"Codice errato"},"Recover data":{it:"Recupera credenziali"},"Confirm code":{it:"Conferma codice"},Code:{it:"Codice"},"My user profile":{it:"Il mio profilo utente"},"Login data":{it:"Dati di accesso al sito"},Username:{},Password:{},"Confirm password":{it:"Ripeti password"},"Personal data":{it:"Dati personali"},"First name":{it:"Nome"},"Last name":{it:"Cognome"},"E-mail address":{it:"Indirizzo e-mail"},"Confirm e-mail":{it:"Ripeti e-mail"},"Anti-spam check":{it:"Controllo anti-spam"},"Institute data":{it:"Dati della scuola di provenienza"},Region:{it:"Regione"},Province:{it:"Provincia"},City:{it:"Città"},Institute:{it:"Istituto"},"User profile preview":{it:"Anteprima del profilo utente"},Profile:{it:"Profilo"},"Edit your data":{it:"Modifica i tuoi dati"},"Old password":{it:"Vecchia password"},"New password":{it:"Nuova password"},"Confirm new password":{it:"Ripeti nuova password"},"New e-mail address":{it:"Nuovo indirizzo email"},"Change your avatar at gravatar.com":{it:"Cambia la tua foto di profilo su gravatar.com"},"Submitted tasks":{it:"Problemi sottomessi"},"no submissions":{it:"nessuna sottoposizione"},search:{it:"cerca"},"Search by name":{it:"Ricerca per nome"},"no tasks found":{it:"nessun problema trovato"},Exercise:{it:"Esercizio"},"Easiest first":{it:"Più facili"},"Hardest first":{it:"Più difficili"},"Newest first":{it:"Più recenti"},"Username is too short":{it:"Username troppo corto"},"Username is invalid":{it:"Username non valido"},"This username is not available":{it:"Questo username non è disponibile"},"You must specify your password":{it:"Devi speficicare la tua password"},"Password's too short":{it:"Password troppo corta"},"Passwords don't match":{it:"Le password non combaciano"},"Wrong password":{it:"Password errata"},"Invalid e-mail":{it:"E-mail non valida"},"E-mail already used":{it:"E-mail già utilizzata"},"E-mails don't match":{it:"Gli indirizzi non combaciano"},"You must specify a region":{it:"Devi specificare una regione"},"You must specify a province":{it:"Devi specificare una provincia"},"You must specify a city":{it:"Devi specificare una città"},"You must specify an institute":{it:"Devi specificare un istituto"},"Title is too short":{it:"Titolo troppo corto"},"Description is too short":{it:"Descrizione troppo corta"},"Text is too short":{it:"Testo troppo corto"},"User already exists":{it:"Utente già esistente"},"Welcome back":{it:"Bentornato"},"Login error":{it:"Login errato"},"Make sure your internet connection is working and, if this error occurs again, contact an administrator.":{it:"Assicurati che la tua connessione a internet sia funzionante e, se l'errore dovesse ripetersi, contatta un amministratore."},Goodbye:{it:"Arrivederci"},"User doesn't exist":{it:"Utente non esistente"},"Internal error. Make sure your internet connection is working well and, if this error occurs again, contact an administrator.":{it:"Errore interno. Assicurati che la tua connessione a internet sia funzionante e, se l'errore dovesse ripetersi, contatta un amministratore."},"Internal error":{it:"Errore interno"},"Topic created":{it:"Argomento creato"},"Reply sent":{it:"Risposta inviata"},"Edit saved":{it:"Modifica salvata"},"Delete completed":{it:"Eliminazione completata"},"Connection error":{it:"Errore di connessione"},Unauthorized:{it:"Non autorizzato"},"Not found":{it:"Non trovato"},Forums:{it:"Forum"}}).factory("l10n",function(words){if(localStorage.getItem("language")==undefined){var language=navigator.userLanguage||navigator.language;if(language.length>2)language=language.substring(0,2);localStorage.setItem("language",language)}return{get:function get(input){if(input===undefined)return input;if(!words.hasOwnProperty(input)){return input}var lang=localStorage.getItem("language")||"en";if(lang=="en")return input;if(words[input].hasOwnProperty(lang))return words[input][lang];else return input},getLanguage:function getLanguage(){return localStorage.getItem("language")||"en"},setLanguage:function setLanguage(language){localStorage.setItem("language",language)}}}).filter("l10n",function(l10n){return l10n.get});"use strict";angular.module("cmsocial").controller("LessonsCtrl",function($scope,$state,$http,notificationHub,userManager,l10n,API_PREFIX){$scope.userManager=userManager;$scope.getLessons=function(){var data={action:"list"};$http.post(API_PREFIX+"lessons",data).success(function(data,status,headers,config){$scope.lessons=data["lessons"];for(var i=0;i<$scope.lessons.length;i++){$scope.lessons[i]["visible"]=false;$scope.lessons[i]["total_score"]=$scope.lessons[i].tasks.length*100;$scope.lessons[i]["score"]=null;for(var j=0;j<$scope.lessons[i].tasks.length;j++){if($scope.lessons[i].tasks[j].score==null)continue;if($scope.lessons[i]["score"]==null)$scope.lessons[i]["score"]=$scope.lessons[i].tasks[j].score;else $scope.lessons[i]["score"]+=$scope.lessons[i].tasks[j].score}}}).error(function(data,status,headers,config){notificationHub.serverError(status)})};$scope.getLessons();$scope.togglePublic=function(lesson){var data={action:"alter",id:lesson.id,access_level:lesson.access_level};$http.post(API_PREFIX+"lessons",data).success(function(data,status,headers,config){notificationHub.createAlert("success","Change successful",2);$scope.getLessons()}).error(function(data,status,headers,config){notificationHub.serverError(status)})};$scope.deleteLesson=function(lesson){$http.post(API_PREFIX+"lessons",{action:"delete",id:lesson.id}).success(function(data,status,headers,config){notificationHub.createAlert("success","Deletion successful",2);$scope.getLessons()}).error(function(data,status,headers,config){notificationHub.serverError(status)})};$scope.lessonLog="";$scope.submitCompleted=true;$scope.loadFiles=function(){var input=$("#zipfile");$scope.files={};var reader=new FileReader;reader.filename=input[0].files[0].name;reader.inputname=input[0].name;reader.onloadend=function(){$scope.files[reader.inputname]={filename:reader.filename,data:reader.result};$scope.submitFiles()};reader.readAsDataURL(input[0].files[0])};$scope.submitFiles=function(){var data={};data["files"]=$scope.files;data["action"]="new";delete $scope.files;$scope.submitCompleted=false;$http.post(API_PREFIX+"lessons",data).success(function(data,status,headers,config){if(data["success"]){$("#zipform").each(function(){this.reset()});$scope.getLessons()}else{notificationHub.createAlert("danger",l10n.get(data["error"]),2)}$scope.lessonLog=data["log"];$scope.submitCompleted=true}).error(function(data,status,headers,config){notificationHub.serverError(status)})}});"use strict";angular.module("cmsocial").controller("MaterialCtrl",function($scope,$state,$http,notificationHub,userManager,l10n,API_PREFIX,$sce){$scope.userManager=userManager;$scope.getMaterial=function(){var data={action:"list"};$http.post(API_PREFIX+"material",data).success(function(data,status,headers,config){var reader=new commonmark.Parser;var writer=new commonmark.HtmlRenderer;$scope.materials=[];var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=data["materials"][Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var mat=_step.value;$scope.materials.push(mat);var parsed=reader.parse(mat.text);var result=writer.render(parsed);$scope.materials[$scope.materials.length-1].html=$sce.trustAsHtml(result)}}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&_iterator.return){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}}).error(function(data,status,headers,config){notificationHub.serverError(status)})};$scope.getMaterial();$scope.downloadMaterial=function(material){var pom=document.createElement("a");pom.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(material.text));pom.setAttribute("download",material.title+".md");if(document.createEvent){var event=document.createEvent("MouseEvents");event.initEvent("click",true,true);pom.dispatchEvent(event)}else{pom.click()}};$scope.togglePublic=function(material){var data={action:"alter",id:material.id,access_level:material.access_level};$http.post(API_PREFIX+"material",data).success(function(data,status,headers,config){notificationHub.createAlert("success","Change successful",2);$scope.getMaterial()}).error(function(data,status,headers,config){notificationHub.serverError(status)})};$scope.deleteMaterial=function(material){if(!confirm("Are you sure?"))return;$http.post(API_PREFIX+"material",{action:"delete",id:material.id}).success(function(data,status,headers,config){notificationHub.createAlert("success","Deletion successful",2);$scope.getMaterial()}).error(function(data,status,headers,config){notificationHub.serverError(status)})};$scope.deleteMaterial=function(material){if(!confirm("Are you sure?"))return;$http.post(API_PREFIX+"material",{action:"delete",id:material.id}).success(function(data,status,headers,config){notificationHub.createAlert("success","Deletion successful",2);$scope.getMaterial()}).error(function(data,status,headers,config){notificationHub.serverError(status)})};$scope.submitCompleted=true;$scope.loadFiles=function(){var input=$("#mdfile");$scope.files={};var reader=new FileReader;reader.filename=input[0].files[0].name;reader.inputname=input[0].name;reader.onloadend=function(){$scope.files[reader.inputname]={filename:reader.filename,data:reader.result};$scope.submitFiles()};reader.readAsDataURL(input[0].files[0])};$scope.submitFiles=function(){var data={};data["files"]=$scope.files;data["title"]=$("#mdtitle").val();data["action"]="new";delete $scope.files;$scope.submitCompleted=false;$http.post(API_PREFIX+"material",data).success(function(data,status,headers,config){if(data["success"]){$("#mdform").each(function(){this.reset()});$scope.getMaterial()}else{notificationHub.createAlert("danger",l10n.get(data["error"]),2)}$scope.submitCompleted=true}).error(function(data,status,headers,config){notificationHub.serverError(status)})}});"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var _l10n;var langlist=[{code:"en",name:"English"},{code:"it",name:"Italiano"}];angular.module("cmsocial").directive("navbar",function(){return{restrict:"E",scope:{},templateUrl:"ccd8679989b40b3cc516d0bead5a983f3a5cbb42/views/navbar.html",replace:true,transclude:true,controller:"NavbarCtrl"}}).controller("NavbarCtrl",function($scope,$location,$state,userManager,contestManager,l10n){$(".signin-form input").click(function(e){e.stopPropagation()});$scope.me=userManager;$scope.cm=contestManager;$scope.participate=contestManager.participate;$scope.rt=function(entry){if(entry.href!=null)return entry.href;return $state.href(entry.sref,entry.params)};_l10n=l10n;setTimeout(function(){var languageSelectorElement=document.getElementById("langsel");if(languageSelectorElement){ReactDOM.render(React.createElement(LanguageSelector,null),languageSelectorElement);var x=document.getElementsByTagName("something");var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=Array.from(x)[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var y=_step.value;while(y.childNodes.length>0){y.parentNode.appendChild(y.childNodes[0])}}}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&_iterator.return){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}}},1)});var LanguageSelector=function(_React$Component){_inherits(LanguageSelector,_React$Component);function LanguageSelector(){_classCallCheck(this,LanguageSelector);return _possibleConstructorReturn(this,(LanguageSelector.__proto__||Object.getPrototypeOf(LanguageSelector)).apply(this,arguments))}_createClass(LanguageSelector,[{key:"setLang",value:function setLang(lang){_l10n.setLanguage(lang);window.location.reload()}},{key:"render",value:function render(){var x=[],kk=0;var _iteratorNormalCompletion2=true;var _didIteratorError2=false;var _iteratorError2=undefined;try{for(var _iterator2=langlist[Symbol.iterator](),_step2;!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=true){var lang=_step2.value;x.push(React.createElement("li",{key:kk,className:lang.code==_l10n.getLanguage()?"active":""},React.createElement("a",{onClick:this.setLang.bind(this,lang.code)},lang.name)));kk+=1}}catch(err){_didIteratorError2=true;_iteratorError2=err}finally{try{if(!_iteratorNormalCompletion2&&_iterator2.return){_iterator2.return()}}finally{if(_didIteratorError2){throw _iteratorError2}}}return React.createElement("something",null,x)}}]);return LanguageSelector}(React.Component);"use strict";angular.module("cmsocial").factory("notificationHub",function($timeout,l10n){var createIt=function createIt(type,msg,secs){var alert=$('<div class="alert alert-'+type+" hyphenate"+' alert-dismissable"><button type="button" class="close" '+'data-dismiss="alert" aria-hidden="true">&times;</button>'+msg+"</div>").hide();$(".notifications").prepend(alert);alert.slideDown("fast");$timeout(function(){alert.animate({right:"-260px"},function(){$(this).remove()})},Math.round(1e3*secs))};return{createAlert:createIt,serverError:function serverError(status){var error="<b>ERROR "+status+"</b><br />";error+=l10n.get("Make sure your internet connection is "+"working and, if this error occurs again, contact an "+"administrator.");createIt("danger",error,10)}}});"use strict";angular.module("cmsocial").directive("pagination",function(){return{restrict:"E",scope:{currentPage:"=",totalPages:"=",onSelectPage:"&"},templateUrl:"ccd8679989b40b3cc516d0bead5a983f3a5cbb42/views/pagination.html",replace:true,link:function link(scope,elem,attrs){scope.selectPage=function(newPage){scope.onSelectPage({page:newPage})};var makePage=function makePage(text,number,active,disabled){return{text:text,number:number===undefined?0:number,active:active===undefined?false:active,disabled:disabled===undefined?false:disabled}};var updatePages=function updatePages(){if(scope.totalPages===undefined||scope.totalPages===0)return;scope.pages=[];if(scope.totalPages>5&&scope.currentPage>3)scope.pages.push(makePage("«",1));scope.pages.push(makePage("‹",scope.currentPage-1,false,scope.currentPage==1));if(scope.totalPages<5)for(var i=1;i<=scope.totalPages;i++){scope.pages.push(makePage(i,+i,i==scope.currentPage))}else if(scope.currentPage<=3)for(var i=1;i<=5;i++){scope.pages.push(makePage(i,+i,i==scope.currentPage))}else if(scope.currentPage>=scope.totalPages-2)for(var i=scope.totalPages-4;i<=scope.totalPages;i++){scope.pages.push(makePage(i,+i,i==scope.currentPage))}else for(var i=-2;i<=2;i++){scope.pages.push(makePage(i+scope.currentPage,i+scope.currentPage,i==0))}scope.pages.push(makePage("›",scope.currentPage+1,false,scope.currentPage==scope.totalPages));if(scope.totalPages>5&&scope.currentPage<scope.totalPages-2)scope.pages.push(makePage("»",scope.totalPages))};scope.$watch("totalPages",function(){updatePages()});scope.$watch("currentPage",function(){updatePages()})}}});"use strict";angular.module("cmsocial").controller("RankingSkel",function($scope){$scope.pagination={perPage:20}}).controller("RankingCtrl",function($scope,$stateParams,$state,$http,notificationHub,l10n,API_PREFIX){$scope.pagination.current=+$stateParams.pageNum;$scope.getUsers=function(){var data={first:$scope.pagination.perPage*($scope.pagination.current-1),last:$scope.pagination.perPage*$scope.pagination.current,action:"list"};$http.post(API_PREFIX+"user",data).success(function(data,status,headers,config){$scope.users=data["users"];$scope.pagination.total=Math.ceil(data["num"]/$scope.pagination.perPage)}).error(function(data,status,headers,config){notificationHub.serverError(status)})};$scope.getUsers()});"use strict";angular.module("cmsocial").factory("ytFixer",function($sce){return{fix:function fix(lezioni){for(var i in lezioni){lezioni[i].youtube=$sce.trustAsResourceUrl("//www.youtube.com/embed/"+lezioni[i].youtube);for(var j in lezioni[i].files){lezioni[i].files[j]={title:lezioni[i].files[j]};lezioni[i].files[j].url=$sce.trustAsUrl("resources/"+lezioni[i].files[j].title)}}return lezioni}}}).controller("ResourcesCtrl",function($scope,taskbarManager){taskbarManager.setActiveTab(0)}).controller("VideoPas",function($scope,taskbarManager,ytFixer){taskbarManager.setActiveTab(0);$scope.title="Videolezioni Pascal";$scope.videolezioni=[{title:"1. Introduzione all'ambiente di programmazione Web e scrittura del primo programma in Pascal",youtube:"DYy2IbteC2U",files:["lez1.pas"]},{title:"2. Utilizzo di variabili",youtube:"YZKX5n3Qz-g",files:["somma.pas"]},{title:"3. Generazione di numeri casuali",youtube:"2-xkcCs7-3M",files:["dado.pas"]},{title:"4. Introduzione alle istruzioni di controllo condizionate",youtube:"S9RjxdKbWF0",files:["moneta.pas"]},{title:"5. Introduzione ai cicli definiti",youtube:"wxf2tOPLZxo",files:[]},{title:"6. Cicli a conteggio",youtube:"xCpl-Er4gEU",files:["stream_di_int.pas"]},{title:"7. Introduzione ai vettori di variabili (array)",youtube:"O4PNXMLpiBE",files:[]},{title:"8. Esercitazione sull'uso di vettori di variabili",youtube:"41nWMbLKmAE",files:["verifyCoin.pas"]},{title:"Lezione 09",youtube:"4eccGbRKavQ",files:[]},{title:"Lezione 10",youtube:"xHWo9mC5Qac",files:[]},{title:"Lezione 11",youtube:"viXj9zyMAlk",files:[]},{title:"Lezione 12",youtube:"vxa6eyV2oBs",files:["functionDado.pas","repeat_throw_until.pas"]},{title:"Lezione 13",youtube:"CgCKVC_tDMM",files:[]},{title:"Lezione 14",youtube:"fmQwZl-7jBA",files:[]},{title:"Come inviare correttamente un file sorgente Pascal alla piattaforma",youtube:"S954uarh-z0",files:[]}];$scope.videolezioni=ytFixer.fix($scope.videolezioni)}).controller("VideoDario",function($scope,taskbarManager,ytFixer){taskbarManager.setActiveTab(0);$scope.title="Videolezioni Programmazione Competitiva";$scope.videolezioni=[{title:"01 - Introduzione",youtube:"lU0Axxor6JU",files:[]},{title:"02 - Ricorsione",youtube:"4tJHJSibcv0",files:[]},{title:"03 - Complessità Computazionale",youtube:"bWb18FVbtxU",files:[]},{title:"04 - Programmazione Dinamica (parte 1)",youtube:"dT5wMqCzp9I",files:[]},{title:"05 - Programmazione Dinamica (parte 2)",youtube:"Ubb-SwvMAq4",files:[]},{title:"06 - Programmazione Dinamica (parte 3)",youtube:"30joNrPY7MA",files:[]},{title:"07 - Programmazione Dinamica (parte 4)",youtube:"BCxaH6B5wgg",files:[]},{title:"08 - Algoritmi di ordinamento comparativi",youtube:"iG9M_lBOOew",files:[]},{title:"09 - Aritmetica modulare",youtube:"eroJMT_ODQ0",files:[]},{title:"10 - Ricerca binaria",youtube:"8H9UC0KwTQU",files:[]},{title:"11 - Strutture dati 1",youtube:"iHGCXrqnFO8",files:[]},{title:"12 - Strutture dati 2",youtube:"VvgN2o8T-98",files:[]},{title:"13 - Grafi 1",youtube:"mIxwWL3oQV8",files:[]},{title:"14 - Grafi 2",youtube:"_adGyh_FfFI",files:[]},{title:"15 - DFS e BFS",youtube:"c3Xb9CztqYE",files:[]},{title:"16 - Algoritmo di Dijkstra",youtube:"WQiAluRS2nw",files:[]},{title:"17 - Algoritmo di Prim e Ordinamento Topologico",youtube:"Cr9y7Px9oek",files:[]},{title:"18 - Esercitazione 1: Selezioni Territoriali 2019",youtube:"jjDqWKyFq5w",files:[]},{title:"19 - Esercitazione 2: Selezioni Territoriali 2018",youtube:"Rlq5yRxlN3Y",files:[]},{title:"20 - Esempio di gara in diretta: Quaranterry (pre-Territoriali 2020)",youtube:"6CuRIHuqLLs",files:[]},{title:"21 - Esercitazione PO2022: C++ STL e tecniche di debug",youtube:"tfpESGWEShQ",files:[]}];$scope.videolezioni=ytFixer.fix($scope.videolezioni)}).controller("VideoCpp",function($scope,taskbarManager,ytFixer){taskbarManager.setActiveTab(0);$scope.title="Videolezioni C";$scope.videolezioni=[{title:"Corso di programmazione in C - Lezione 1 - Prof. Romeo Rizzi - UNIVR",youtube:"QW7A7efKzoY",files:[]},{title:"Corso di programmazione in C - Lezione 2 - Prof. Romeo Rizzi - UNIVR",youtube:"XrIYg7Er3OM",files:[]},{title:"Corso di programmazione in C - Lezione 3 - Prof. Romeo Rizzi - UNIVR",youtube:"VRdS2z5eso0",files:[]},{title:"Corso di programmazione in C - Lezione 4 - Prof. Romeo Rizzi - UNIVR",youtube:"ZQwIQLmxcfc",files:[]},{title:"Corso di programmazione in C - Lezione 5 - Prof. Romeo Rizzi - UNIVR",youtube:"UbpQ0rEqNcM",files:[]},{title:"Corso di programmazione in C - Lezione 6 - Prof. Romeo Rizzi - UNIVR",youtube:"_C9vsqgOpCM",files:[]},{title:"Corso di programmazione in C - Lezione 7 - Prof. Romeo Rizzi - UNIVR",youtube:"hBJrzlx-qU8",files:[]},{title:"Corso di programmazione in C - Lezione 8 - Prof. Romeo Rizzi - UNIVR",youtube:"e77J9NOD01k",files:[]},{title:"Corso di programmazione in C - Lezione 9 - Prof. Romeo Rizzi - UNIVR",youtube:"rfpf09WAanY",files:[]},{title:"Corso di programmazione in C - Lezione 10 - Prof. Romeo Rizzi - UNIVR",youtube:"jRyLcwgAw2o",files:[]},{title:"Corso di programmazione in C - Lezione 11 - Prof. Romeo Rizzi - UNIVR",youtube:"iNrwwlQR174",files:[]},{title:"Corso di programmazione in C - Lezione 12 - Prof. Romeo Rizzi - UNIVR",youtube:"56E3Pc5UT8I",files:[]},{title:"Corso di programmazione in C - Lezione 13 - Prof. Romeo Rizzi - UNIVR",youtube:"nA8AtYh92hk",files:[]},{title:"Corso di programmazione in C - Lezione 14 - Prof. Romeo Rizzi - UNIVR",youtube:"X8HH8OkmWRg",files:[]},{title:"Come inviare correttamente un file sorgente C alla piattaforma",youtube:"YAmpEiGJFVs",files:[]}];$scope.videolezioni=ytFixer.fix($scope.videolezioni)}).controller("VideoDos",function($scope,taskbarManager,ytFixer){taskbarManager.setActiveTab(0);$scope.title="Videolezioni prompt dei comandi";$scope.videolezioni=[{title:"Lezione 1",youtube:"0ZiZZKuOAYw",files:[]},{title:"Lezione 2",youtube:"ObP826EJcG4",files:[]},{title:"Lezione 3",youtube:"GdWviy-0BjY",files:[]},{title:"Lezione 4",youtube:"lgygmdZ0Zxo",files:[]},{title:"Lezione 5",youtube:"L_Fgi0uLRYY",files:[]},{title:"Lezione 6",youtube:"inlXwdMp8Ic",files:[]},{title:"Lezione 7",youtube:"LgOAyxN5j8Q",files:[]},{title:"Lezione 8",youtube:"aen2V5Y14vk",files:[]}];$scope.videolezioni=ytFixer.fix($scope.videolezioni)}).controller("VideoAlg",function($scope,taskbarManager,ytFixer){taskbarManager.setActiveTab(0);$scope.title="Videolezioni Algoritmi e Strutture Dati";$scope.videolezioni=[{title:"00 Introduzione ai dizionari",youtube:"eB_AREwL4dI",files:[]},{title:"01 Dizionario mediante Liste 1: definizione",youtube:"fb-JsPB2CYA",files:[]},{title:"01 Dizionario mediante Liste 2: inserimento",youtube:"j4eZAp6a63k",files:[]},{title:"01 Dizionario mediante Liste 3: cancellazione",youtube:"pCvG_hX958g",files:[]},{title:"01 Dizionario mediante Liste 4: ricerca (1/2)",youtube:"PneFLXrTrMM",files:[]},{title:"01 Dizionario mediante Liste 4: ricerca (2/2)",youtube:"lUobj-OfnaM",files:["liste.h","liste.c","esempio_liste.c"]},{title:"02 Dizionario mediante Array Dinamici 1: dimensione fissa",youtube:"rFE8x7naGOw",files:[]},{title:"02 Dizionario mediante Array Dinamici 2: dimensione variabile",youtube:"_4rASmNwVho",files:["vettori.h","vettori.c","esempio_vettori.c"]},{title:"03 Dizionario mediante Array Ordinati: ricerca binaria",youtube:"MPiE3OIeJN8",files:["ricerca_binaria.c"]},{title:"04 Tabella riassuntiva 1",youtube:"-Pil1cE0APY",files:[]},{title:"05 Dizionario mediante Tabelle Hash 1: liste concatenate",youtube:"0O8O6Rt8Kes",files:["hash.h","hash.c","liste.h","liste.c","esempio_hash.c"]},{title:"05 Dizionario mediante Tabelle Hash 2: indirizzamento aperto",youtube:"hadAU6vw1xQ",files:[]},{title:"06 Dizionario mediante Alberi Binari di Ricerca 1: definizione",youtube:"o_H-2N1E6EI",files:[]},{title:"06 Dizionario mediante Alberi Binari di Ricerca 2: ricerca e inserimento",youtube:"dLWeE0cGoCM",files:[]},{title:"06 Dizionario mediante Alberi Binari di Ricerca 3: cancellazione",youtube:"xsDdLepnIqw",files:["abr.h","abr.c","esempio_abr.c"]},{title:"07 Tabella riassuntiva 2",youtube:"VsUVndAQii4",files:[]}];$scope.videolezioni=ytFixer.fix($scope.videolezioni)}).controller("VideoSel",function($scope,taskbarManager,ytFixer){taskbarManager.setActiveTab(0);$scope.title="Soluzioni commentate a esercizi di selezioni scolastiche";$scope.videolezioni=[{title:"Soluzione commentata esercizio 2 Selezioni Scolastiche 2012",youtube:"hMzcSlgdDUU",files:[]},{title:"Soluzione commentata esercizio 6 Selezioni Scolastiche 2012 - Pascal",youtube:"7pLgkIyV0pI",files:[]},{title:"Soluzione commentata esercizio 11 Selezioni Scolastiche 2012 - Pascal",youtube:"ASUfHRo6w4I",files:[]},{title:"Soluzione commentata esercizio 16 Selezioni Scolastiche 2012",youtube:"Zy3ZHlKRvdc",files:[]},{title:"Soluzione commentata esercizio 18 Selezioni Scolastiche 2012",youtube:"jxx_GGp7vAA",files:[]}];$scope.videolezioni=ytFixer.fix($scope.videolezioni)}).controller("FAQCtrl",function($scope,taskbarManager){taskbarManager.setActiveTab(0);$scope.title="Domande frequenti";$scope.faqs=[{question:"Come si ottiene l’attestato?",answer:"L'unico obbligo è di totalizzare durante la miniolimpiade un punteggio positivo ad almeno 3 dei 7 problemi proposti. La quantità di problemi da svolgere durante il corso va in relazione alla dimestichezza del singolo e non determina il diritto al certificato."},{question:"Quando comincia e quando finisce la miniolimpiade?",answer:"La miniolimpiade della decima edizione si attiverà l'11 dicembre 2020 alle ore 15:00 e si concluderà lunedì 21 dicembre alle ore 15:00. Gli attestati saranno spediti a gennaio 2021."},{question:"Come funziona la miniolimpiade?",answer:"Nel giorno e l'ora d'inizio della miniolimpiade, saranno inseriti nella piattaforma i 7 problemi della miniolimpiade. Una volta usciti, avrete a disposizione una settimana per svolgerli. Il punteggio minimo da ottenere è un punteggio strettamente positivo su 3 dei 7 problemi."},{question:"Esistono delle prove intermedie?",answer:"No, durante il corso vi è la possibilità di autovalutarsi cimentandosi con i problemi di programmazione presenti sulla piattaforma. Il forum è un utile strumento per lo scambio di opinioni sia tra i corsisti che con i membri dello staff, sempre pronti a dispensare consigli."},{question:"Come funziona il corso?",answer:'Questo corso si struttura nel seguente modo: una volta scelto il linguaggio, si possono seguire principalmente due strade, in base anche a quanto ci si sente pronti. Si può iniziare seguendo le videolezioni, che permettono di iniziare in maniera soft, oppure si può iniziare direttamente a programmare. Nella sezione "Problemi di programmazione" della barra di navigazione in alto si apre al click una tendina. Cliccando su "Tutti i problemi" si apre una pagina con tutti i problemi di programmazione disponibili (ognuno può essere risolto in qualsiasi linguaggio), tra i quali è possibile effettuare una ricerca per pattern matching del nome, mediante il bottone a forma di lente di ingrandimento. Si suggerisce comunque di iniziare con "easy1", "easy2", "easy3", che sono i più basilari e permettono di autovalutarsi, anche con lo scopo di capire se può essere necessaria la visione delle videolezioni oppure se ci si può concentrare su problemi più "difficili".'},{question:"Come deve essere inviata la soluzione?",answer:"La soluzione può essere scritta direttamente nell'editor fornito dalla piattaforma e può essere compilata ed inviata direttamente cliccando sul bottone \"sottometti\". Naturalmente, è perfettamente legittimo sviluppare il codice in un qualsiasi editor per poi incollarlo nell'apposito spazio per poi inviare la sottoposizione. Quando il codice viene compilato, l'eseguibile viene fatto girare su un server e vengono mostrati i risultati (il numero di testcase superati ed il tempo impiegato per l'esecuzione) nella pagina web."},{question:"È possibile avere un corso per le competenze digitali avanzato?",answer:'Al momento non è stato predisposto un "sequel" per il corso delle competenze digitali, ma vi comunicheremo a breve un elenco di problemi "difficili", la cui risoluzione indica un livello di dimestichezza piuttosto elevato.'},{question:"È necessario postare le proprie soluzioni?",answer:"Lo scambio reciproco di idee è fortemente incoraggiato, poiché costituisce un'ottima occasione per apprendere in modo più dinamico; resta inteso che è fortemente scoraggiato e deleterio in fase di valutazione (miniolimpiade)."},{question:"I tempi di esecuzione mostrati dalla piattaforma al termine di una valutazione sono attendibili?",answer:"Il tempo di esecuzione che viene visualizzato è il peggior tempo fatto dal programma sui test case. Indicativamente è attendibile, ma possono esserci delle variazioni dovute ad esempio allo stato di sovraccarico della macchina sulla quale vengono fatti girare gli eseguibili, ma di solito l'errore non supera i 4ms."},{question:"È possibile scegliere il linguaggio di programmazione da usare?",answer:"Certamente! È possibile scegliere il linguaggio con il quale ci si trova meglio tra le varie proposte (i linguaggi ufficiali delle IOI) e potenziare le proprie competenze esclusivamente su quello. La piattaforma permette comunque di cambiare linguaggio in qualsiasi momento, nel caso ci si accorgesse in corso d'opera di preferire un altro tra i linguaggi di programmazione supportati."},{question:"Come deve essere fatta una soluzione?",answer:'In fase di scrittura del codice è necessario leggere attentamente le specifiche nel testo. Infatti uno degli errori più comuni in fase iniziale è la mancata lettura/scrittura da/su file, che è richiesta in molti problemi. Inoltre, sono da evitare le stampe da "interfaccia testuale", ossia la scrittura di qualunque cosa che non sia strettamente il risultato del problema, poichè tali stampe fanno totalizzare 0 punti.'},{question:"Come mai il mio programma Pascal va in execution time out?",answer:"Un problema molto comune in Pascal è l’utilizzo degli integer, al posto dei longint. Infatti i primi sono interi a 16 bit, mentre i secondi a 32 bit. In generale, è buona norma usare sempre e comunque i longint, che corrispondono agli int del C."}]});"use strict";angular.module("cmsocial").controller("SignupCtrl",function($scope,$http,$state,md5,notificationHub,userManager,contestManager,API_PREFIX){$scope.cm=contestManager;contestManager.getContestPromise().then(function(response){if(!contestManager.getContest().captcha_enabled)return;var Recaptcha=ReactRecaptcha;ReactDOM.render(React.createElement(Recaptcha,{sitekey:contestManager.getContest().recaptcha_public_key,render:"explicit",onloadCallback:console.log.bind(this,"recaptcha loaded")}),document.getElementById("recaptcha-div"))});$(".avatar").load(function(){$(".avatar-loader").hide()}).error(function(){console.log("Errore nel caricamento dell'immagine")});$("#email1").blur(function(){var newSrc="http://gravatar.com/avatar/"+md5.createHash(this.value).toString()+"?d=identicon&s=200";var avatar=$(".avatar");if(avatar.attr("src")!=newSrc){$(".avatar-loader").show();avatar.attr("src",newSrc)}});$scope.isBad={username:true,email:true,password:true,password2:true,email2:true,region:true,province:true,city:true};$scope.user={username:"",email:"",email2:"",password:"",password2:""};$scope.errorMsg={password:"Password's too short",password2:"Passwords don't match",email2:"E-mails don't match",region:"You must specify a region",province:"You must specify a province",city:"You must specify a city"};$http.post(API_PREFIX+"location",{action:"listregions"}).success(function(data,status,headers,config){$scope.regions=data.regions}).error(function(data,status,headers,config){notificationHub.serverError(status)});$scope.submit=function(){$scope.checkUsername();$scope.checkEmail();$scope.checkPassword();if($scope.isBad["username"]){$scope.signupform.username.$dirty=true;$("#username1").focus();return}else if($scope.isBad["password"]){$scope.signupform.password.$dirty=true;$("#password1").focus();return}else if($scope.isBad["password2"]){$scope.signupform.password2.$dirty=true;$("#password2").focus();return}else if($scope.isBad["email"]){$scope.signupform.email.$dirty=true;$("#email1").focus();return}else if($scope.isBad["email2"]){$scope.signupform.email2.$dirty=true;$("#email2").focus();return}var data=$scope.user;if(contestManager.getContest().captcha_enabled){data["recaptcha_response"]=document.querySelectorAll("textarea.g-recaptcha-response")[0].value}data["action"]="new";$http.post(API_PREFIX+"user",data).success(function(data,status,headers,config){if(data.success===1){notificationHub.createAlert("success","Complimenti, "+"la registrazione è andata a buon fine, adesso puoi accedere con le credenziali "+"del tuo nuovo account usando il modulo in alto a destra. Una volta entrato "+"nel sistema avrai la possibilità di sottoporre le soluzioni ai task presenti "+"in questa pagina. Buon allenamento.",10);$state.go("overview");userManager.refresh()}else{notificationHub.createAlert("danger",data.error,3)}}).error(function(data,status,headers,config){notificationHub.serverError(status)})};$scope.askServer=function(type,value){$http.post(API_PREFIX+"check",{type:type,value:value}).success(function(data,status,headers,config){$scope.isBad[type]=data.success==0;$scope.errorMsg[type]=data.error}).error(function(data,status,headers,config){notificationHub.serverError(status)})};$scope.checkUsername=function(){$scope.askServer("username",$scope.user.username)};$scope.checkEmail=function(){$scope.askServer("email",$scope.user.email)};$scope.checkPassword=function(){$scope.isBad["password"]=$scope.user.password.length<5};$scope.matchPassword=function(){$scope.isBad["password2"]=$scope.user.password!==$scope.user.password2};$scope.matchEmail=function(){$scope.isBad["email2"]=$scope.user.email!==$scope.user.email2}});"use strict";angular.module("cmsocial").factory("taskbarManager",function(){var activeTab=0;return{isActiveTab:function isActiveTab(tab){return tab==activeTab},setActiveTab:function setActiveTab(tab){activeTab=tab}}}).controller("TaskbarCtrl",function($scope,$stateParams,$http,$state,$rootScope,$timeout,notificationHub,taskbarManager,l10n,contestManager,API_PREFIX){delete $rootScope.task;$timeout(function(){$(".my-popover").popover()});$scope.tag={};$scope.isActiveTab=taskbarManager.isActiveTab;$scope.isLogged=contestManager.hasParticipation;$scope.cm=contestManager;$scope.taskName=$stateParams.taskName;$scope.tagClicked=function(tag){$("#tags_detail").modal("hide");$("#tags_detail").on("hidden.bs.modal",function(e){$state.go("tasklist.page",{pageNum:1,tag:tag})})};$scope.tagAdd=function(){$http.post(API_PREFIX+"tag",{action:"add",tag:$scope.tag.newtag,task:$rootScope.task.name}).success(function(data,status,headers,config){if(data.success===0){notificationHub.createAlert("danger",l10n.get(data["error"]),3)}else{$scope.loadTaskPromise=$scope.loadTask();notificationHub.createAlert("success",l10n.get("Task correctly tagged"),2)}}).error(function(data,status,headers,config){notificationHub.serverError(status)})};$scope.tagDelete=function(tag){if(confirm("Are you sure?")){$http.post(API_PREFIX+"tag",{action:"remove",tag:tag,task:$rootScope.task.name}).success(function(data,status,headers,config){if(data.success===0){notificationHub.createAlert("danger",l10n.get(data["error"]),3)}else{$scope.loadTaskPromise=$scope.loadTask();notificationHub.createAlert("success",l10n.get("Task correctly untagged"),2)}}).error(function(data,status,headers,config){notificationHub.serverError(status)})}};$scope.newTag=function(){$(".newtagstuff").show();$http.post(API_PREFIX+"tag",{action:"list"}).success(function(data,status,headers,config){$scope.tags=data["tags"];$("#tagloader").hide();$("#tagseparator").show();$("#tagchooser").removeAttr("disabled")}).error(function(data,status,headers,config){notificationHub.serverError(status)})};$scope.loadTask=function(){return $http.post(API_PREFIX+"task",{name:$stateParams.taskName,action:"get"}).then(function(result){$rootScope.task=result.data},function(result){notificationHub.serverError(result.status)})};$scope.loadTaskPromise=$scope.loadTask()}).controller("StatementCtrl",function($scope,$window,taskbarManager){taskbarManager.setActiveTab(1)}).controller("AttachmentsCtrl",function($scope,$stateParams,$http,$window,taskbarManager,notificationHub,API_PREFIX){taskbarManager.setActiveTab(2);$scope.bulkDownload=function(){$http.post(API_PREFIX+"task",{name:$stateParams.taskName,action:"bulk_download",attachments:$scope.task.attachments}).success(function(data,status,headers,config){$window.location.assign(API_PREFIX+"files/"+data.digest+"/"+$stateParams.taskName+".zip")}).error(function(data,status,headers,config){notificationHub.serverError(status)})}}).controller("StatsCtrl",function($scope,$stateParams,$http,notificationHub,taskbarManager,l10n,API_PREFIX){taskbarManager.setActiveTab(3);$scope.getStats=function(){$http.post(API_PREFIX+"task",{name:$stateParams.taskName,action:"stats"}).success(function(data,status,headers,config){$scope.nsubs=data.nsubs;$scope.nusers=data.nusers;$scope.nsubscorrect=data.nsubscorrect;$scope.nuserscorrect=data.nuserscorrect;$scope.best=data.best}).error(function(data,status,headers,config){notificationHub.serverError(status)})};$scope.getStats()}).controller("SubmissionsCtrl",function($scope,$stateParams,$location,$http,$timeout,$rootScope,notificationHub,subsDatabase,taskbarManager,l10n,contestManager,API_PREFIX){taskbarManager.setActiveTab(4);subsDatabase.load($stateParams.taskName);$scope.areThereSubs=function(name){return $rootScope.submissions[name]!==undefined&&$rootScope.submissions[name].length>0};var aceModeMap={"C11 / gcc":"c_cpp","C++17 / g++":"c_cpp","Pascal / fpc":"pascal","Python 3 / CPython":"python","Java / JDK":"java"};var langExtMap={"C11 / gcc":".c","C++17 / g++":".cpp","Pascal / fpc":".pas","Python 3 / CPython":".py","Java / JDK":".java"};$scope.languages=[];Promise.all([contestManager.getContestPromise(),$scope.loadTaskPromise]).then(function(response){var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=$rootScope.task.supported_languages[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var lang=_step.value;$scope.languages.push(lang)}}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&_iterator.return){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}var preferred_language_key="preferred_language_"+contestManager.getContest().name;if(!localStorage.getItem(preferred_language_key)||$scope.languages.indexOf(localStorage.getItem(preferred_language_key))==-1){localStorage.setItem(preferred_language_key,$scope.languages[0])}$scope.language=localStorage.getItem(preferred_language_key);$scope.aceOption={mode:aceModeMap[$scope.language],showPrintMargin:false,onLoad:function onLoad(_ace){$scope.aceSession=_ace.getSession();$scope.languageChanged=function(newL){$scope.language=newL;localStorage.setItem(preferred_language_key,newL);$scope.aceSession.setMode("ace/mode/"+aceModeMap[newL])}},onChange:function onChange(_ace){$scope.aceModel=$scope.aceSession.getDocument().getValue();localStorage.setItem("source_code",$scope.aceModel)}}});if(localStorage.getItem("source_code")===null){localStorage.setItem("source_code",l10n.get("Write your code here"))}$scope.aceModel=localStorage.getItem("source_code");$scope.loadAce=function(){if(!subsDatabase.submitCompleted){return notificationHub.createAlert("warning",l10n.get("You have a pending submission"),2)}$scope.files={};$scope.files[$rootScope.task.submission_format[0]]={filename:"ace"+langExtMap[$scope.language],language:$scope.language,data:btoa(unescape(encodeURIComponent($scope.aceSession.getDocument().getValue())))};$scope.submitFiles()};$scope.resetAce=function(){localStorage.setItem("source_code",l10n.get("Write your code here"));$scope.aceSession.getDocument().setValue(localStorage.getItem("source_code"))};$scope.loadFile=function(event){var reader=new FileReader;reader.onload=function(e){$scope.aceSession.getDocument().setValue(e.target.result)};reader.readAsText(event.target.files[0])};$scope.loadFiles=function(formid){var input=$("#"+formid+" input");$scope.files={};var reader=new FileReader;function readFile(i){if(i==input.length){$scope.submitFiles();return}if(input[i].files.length<1){readFile(i+1);return}reader.filename=input[i].files[0].name;reader.inputname=input[i].name;reader.onloadend=function(){$scope.files[reader.inputname]={filename:reader.filename,data:reader.result};readFile(i+1)};reader.readAsDataURL(input[i].files[0])}readFile(0)};$scope.submitCompleted=function(){return subsDatabase.submitCompleted};$scope.submitFiles=function(){var data={};data["files"]=$scope.files;data["action"]="new";data["task_name"]=$scope.taskName;delete $scope.files;subsDatabase.submitCompleted=false;$http.post(API_PREFIX+"submission",data).success(function(data,status,headers,config){if(data["success"]){subsDatabase.addSub($scope.taskName,data);$("#submitform").each(function(){this.reset()})}else{notificationHub.createAlert("danger",l10n.get(data["error"]),2)}subsDatabase.submitCompleted=true}).error(function(data,status,headers,config){notificationHub.serverError(status);subsDatabase.submitCompleted=true})};$scope.showDetails=function(id){subsDatabase.subDetails(id)}}).directive("pdf",function($window,l10n,API_PREFIX){return{restrict:"E",link:function link(scope,element,attrs){scope.loadTaskPromise.then(function(){var goodBrowser=!!$window.Worker;var hasBuiltInPdf=!("ActiveXObject"in window)&&!/iPhone|iPod|Android|BlackBerry|Opera Mini|Phone|Mobile/i.test(navigator.userAgent);var statementLanguage=l10n.getLanguage();if(!(statementLanguage in scope.task.statements)){if("en"in scope.task.statements)statementLanguage="en";else if("it"in scope.task.statements)statementLanguage="it";else statementLanguage=Object.keys(scope.task.statements)[0]}var pdfURL=API_PREFIX+"files/"+scope.task.statements[statementLanguage]+"/testo.pdf";var downloadButton='<a href="'+pdfURL+'" class="btn btn-success" style="margin-top:5px;">Download PDF</a>';if(goodBrowser&&hasBuiltInPdf)element.replaceWith('<object data="'+pdfURL+'" type="application/pdf" class="'+attrs.class+'">'+l10n.get("Your browser is outdated or your PDF plugin is deactivated")+"<br>"+downloadButton+"</object>");else if(goodBrowser)element.replaceWith('<iframe seamless src="https://mozilla.github.io/pdf.js/web/viewer.html?file='+location.origin+pdfURL+'" class="'+attrs.class+'"/>');else element.raplaceWith(downloadButton)})}}}).directive("customOnChange",function(){return{restrict:"A",link:function link(scope,element,attrs){var onChangeHandler=scope.$eval(attrs.customOnChange);element.bind("change",onChangeHandler);element.bind("click",function(e){e.target.value=null})}}});"use strict";function polarToCartesian(centerX,centerY,radius,angleInDegrees){var angleInRadians=(angleInDegrees-90)*Math.PI/180;var x=centerX+radius*Math.cos(angleInRadians);var y=centerY+radius*Math.sin(angleInRadians);return{x:x,y:y}}function describeArc(x,y,radius,startAngle,endAngle){var start=polarToCartesian(x,y,radius,endAngle);var end=polarToCartesian(x,y,radius,startAngle);var arcSweep=endAngle-startAngle<=180?"0":"1";var d=["M",start.x,start.y,"A",radius,radius,0,arcSweep,0,end.x,end.y].join(" ");return d}angular.module("cmsocial").controller("TaskTree",function($scope,$stateParams,$state,$http,notificationHub,userManager,l10n,API_PREFIX){$http.post(API_PREFIX+"task",{tag:"tree",first:0,last:50,username:userManager.getUser().username,token:userManager.getUser().token,action:"list"}).success(function(data,status,headers,config){function onlyUnique(value,index,self){return self.indexOf(value)===index}var catList=[];var cat2Tasks={};for(var i=0;i<data.tasks.length;i++){catList.push(data.tasks[i].category);if(!(data.tasks[i].category in cat2Tasks)){cat2Tasks[data.tasks[i].category]=[]}cat2Tasks[data.tasks[i].category].push(data.tasks[i])}catList=catList.filter(onlyUnique);function cmp(a,b){if(a.difficulty>b.difficulty){return 1}if(a.difficulty<b.difficulty){return-1}return 0}function createNode(node){return{node:node,children:[],x:0,y:0,visible:false}}cat2Tasks["intro"].sort(cmp);var treeData=createNode(cat2Tasks["intro"][0]);var par=treeData;for(var j=1;j<cat2Tasks["intro"].length;j++){var cur=createNode(cat2Tasks["intro"][j]);par["children"].push(cur);par=cur}var secondRoot=par;for(var _i=0;_i<catList.length;_i++){if(catList[_i]=="intro"){continue}cat2Tasks[catList[_i]].sort(cmp);var _par=secondRoot;for(var _j=0;_j<cat2Tasks[catList[_i]].length;_j++){var _cur=createNode(cat2Tasks[catList[_i]][_j]);_par["children"].push(_cur);_par=_cur}}var cat_to_color={intro:"#2b7085","data structures":"#72ae92",graphs:"#FFC300",math:"#FF5733","dynamic programming":"#C70039","brute force":"#900C3F",sortings:"#581845"};var width=$("#gemmadiv").width();var heightOverflow=2;var textSize=15;var animationDelay=100;var numFrames=60;var frameDelay=15;var nodeStrokeWidth=5;var linkStrokeWidth=2.5;var height=void 0,nodeRadius=void 0,paddingTop=void 0,linkHeight=void 0;var firstLetter=false;var timeouts=[];var _setTimeout=setTimeout;function myTimeout(a,b){timeouts.push(_setTimeout(a,b))}setTimeout=myTimeout;function calcNodeSize(){var _svg=document.createElementNS("http://www.w3.org/2000/svg","svg");_svg.setAttribute("height","1px");_svg.setAttribute("width","200px");var text=document.createElementNS(_svg.namespaceURI,"text");text.setAttribute("font-size",textSize+"px");text.setAttribute("stroke","white");text.setAttribute("class","treeText");text.setAttribute("x",20);text.setAttribute("y",20);_svg.appendChild(text);document.getElementById("gemmadiv").appendChild(_svg);var maxW=0;var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=data.tasks[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var task=_step.value;text.textContent=task.name;maxW=Math.max(maxW,text.getBoundingClientRect().width)}}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&_iterator.return){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}nodeRadius=maxW/2*1.1;text.textContent=""}var svg=document.createElementNS("http://www.w3.org/2000/svg","svg");var svgNS=svg.namespaceURI;svg.id="mysvg";document.getElementById("gemmadiv").appendChild(svg);var firstDraw=true;draw();function draw(){var oldwidth=width;width=$("#gemmadiv").width();if(firstDraw||width!=oldwidth){calcNodeSize();paddingTop=nodeRadius+nodeStrokeWidth;linkHeight=2*(nodeRadius+nodeStrokeWidth)+nodeRadius;height=paddingTop*2+linkHeight*7;var svg=document.getElementById("mysvg");svg.setAttribute("height",height+"px");svg.setAttribute("width",width+"px");var _iteratorNormalCompletion2=true;var _didIteratorError2=false;var _iteratorError2=undefined;try{for(var _iterator2=timeouts[Symbol.iterator](),_step2;!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=true){var _i2=_step2.value;clearTimeout(_i2)}}catch(err){_didIteratorError2=true;_iteratorError2=err}finally{try{if(!_iteratorNormalCompletion2&&_iterator2.return){_iterator2.return()}}finally{if(_didIteratorError2){throw _iteratorError2}}}timeouts=[];drawSvg()}firstDraw=false}window.onresize=draw;function drawSvg(){$("#mysvg").empty();function visit(u,depth,siblings,childIdx,visible){u.visible=visible;u.y=depth*linkHeight+paddingTop;u.x=width/(siblings+1)*(childIdx+1);var d=0;for(var _i3=0;_i3<u.children.length;_i3++){var v=u.children[_i3];if(visible&&u.node.score!=undefined&&u.node.score>=50){d=visit(v,depth+1,Math.max(siblings,u.children.length),childIdx+_i3,true)}else{var discard=visit(v,depth+1,Math.max(siblings,u.children.length),childIdx+_i3,false)}}return Math.max(d,depth)}var maxDepth=visit(treeData,0,1,0,true);var trueHeight=paddingTop*2+linkHeight*(maxDepth+2);svg.setAttribute("height",trueHeight+"px");while(trueHeight>heightOverflow*window.innerHeight){firstLetter=true;nodeRadius=nodeRadius/2;paddingTop=nodeRadius+nodeStrokeWidth;linkHeight=2*(nodeRadius+nodeStrokeWidth)+nodeRadius;trueHeight=paddingTop*2+linkHeight*(maxDepth+2)}if(firstLetter){svg.setAttribute("height",trueHeight+"px");svg.setAttribute("width",width+"px");maxDepth=visit(treeData,0,1,0,true)}function drawNode(node){if(node.node.score==undefined){node.node.score=0}if(!node.visible){var _bkg=document.createElementNS(svgNS,"circle");_bkg.setAttribute("fill","#ddd");_bkg.setAttribute("fill-opacity",1);_bkg.setAttribute("cx",node.x);_bkg.setAttribute("cy",node.y);_bkg.setAttribute("r",nodeRadius);_bkg.setAttribute("stroke-width",nodeStrokeWidth);_bkg.setAttribute("stroke","white");svg.appendChild(_bkg);var _text=document.createElementNS(svgNS,"text");_text.setAttributeNS(null,"font-size",textSize*4/3+"px");_text.setAttributeNS(null,"x",node.x);_text.setAttributeNS(null,"y",node.y);_text.setAttribute("class","treeText");_text.setAttribute("text-anchor","middle");_text.setAttribute("dominant-baseline","central");_text.textContent="?";svg.appendChild(_text);return}var linkPaths=[];var _iteratorNormalCompletion3=true;var _didIteratorError3=false;var _iteratorError3=undefined;try{for(var _iterator3=node.children[Symbol.iterator](),_step3;!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=true){var child=_step3.value;var path=document.createElementNS(svgNS,"line");path.setAttribute("x1",node.x);path.setAttribute("y1",node.y);path.setAttribute("x2",child.x);path.setAttribute("y2",child.y-nodeRadius/2);path.setAttribute("stroke","none");path.setAttribute("stroke-width",linkStrokeWidth);svg.appendChild(path);linkPaths.push(path)}}catch(err){_didIteratorError3=true;_iteratorError3=err}finally{try{if(!_iteratorNormalCompletion3&&_iterator3.return){_iterator3.return()}}finally{if(_didIteratorError3){throw _iteratorError3}}}var bkg=document.createElementNS(svgNS,"circle");bkg.setAttribute("fill","white");bkg.setAttribute("fill-opacity",1);bkg.setAttribute("cx",node.x);bkg.setAttribute("cy",node.y);bkg.setAttribute("r",nodeRadius+nodeStrokeWidth);bkg.setAttribute("stroke-width",0);svg.appendChild(bkg);var color=document.createElementNS(svgNS,"circle");color.setAttribute("stroke",cat_to_color[node.node.category]);color.setAttribute("stroke-opacity",.5);color.setAttribute("fill",cat_to_color[node.node.category]);color.setAttribute("fill-opacity",.6);color.setAttribute("cx",node.x);color.setAttribute("cy",node.y);color.setAttribute("r",nodeRadius-nodeStrokeWidth/2);color.setAttribute("stroke-width",0);color.setAttribute("id",node.node.name);svg.appendChild(color);var scoreAngle=3.59999*node.node.score;var arc=describeArc(node.x,node.y,nodeRadius,0,0);var stroke=document.createElementNS(svgNS,"path");stroke.setAttribute("stroke",cat_to_color[node.node.category]);stroke.setAttribute("fill","none");stroke.setAttribute("d",arc);stroke.setAttribute("stroke-width",nodeStrokeWidth);stroke.setAttribute("id",node.node.name);svg.appendChild(stroke);var text=document.createElementNS(svgNS,"text");text.setAttribute("font-size",textSize+"px");text.setAttribute("x",node.x);text.setAttribute("y",node.y);text.setAttribute("class","treeText");text.setAttribute("text-anchor","middle");text.setAttribute("dominant-baseline","central");if(firstLetter)text.textContent=node.node.name[0].toUpperCase();else text.textContent=node.node.name;svg.appendChild(text);var anchor=document.createElementNS(svgNS,"a");var link=document.createElementNS(svgNS,"circle");link.setAttribute("fill","white");link.setAttribute("fill-opacity",0);link.setAttribute("cx",node.x);link.setAttribute("cy",node.y);link.setAttribute("r",nodeRadius+nodeStrokeWidth/2);link.setAttribute("stroke-width",0);anchor.setAttribute("href","https://digit.olinfo.it/#/task/"+node.node.name);anchor.appendChild(link);svg.appendChild(anchor);function updateCircle(frame){stroke.setAttribute("d",describeArc(node.x,node.y,nodeRadius,0,scoreAngle/numFrames*(frame+1)));if(frame<numFrames-1){setTimeout(function(){updateCircle(frame+1)},frameDelay)}if(frame==numFrames/2){var _loop=function _loop(_i4){linkPaths[_i4].setAttribute("stroke",cat_to_color[node.children[_i4].node.category]);setTimeout(function(){drawNode(node.children[_i4])},animationDelay)};for(var _i4=0;_i4<node.children.length;_i4++){_loop(_i4)}}}setTimeout(function(){updateCircle(0)},frameDelay)}drawNode(treeData)}}).error(function(data,status,headers,config){notificationHub.serverError(status)})});"use strict";angular.module("cmsocial").service("subsDatabase",function($http,$rootScope,$timeout,notificationHub,l10n,API_PREFIX){$rootScope.submissions={};var self={};self.submitCompleted=true;var updInterval={};var updAttempts={};var timeout;self.load=function(name){$http.post(API_PREFIX+"submission",{action:"list",task_name:name}).success(function(data,status,headers,config){$rootScope.submissions[name]=[];for(var i=data["submissions"].length;i>0;i--){self.addSub(name,data["submissions"][i-1])}}).error(function(data,status,headers,config){notificationHub.serverError(status)});$timeout.cancel(timeout);updSubs()};function intervalFromAttempts(i){if(i<10||i==undefined)return 1;if(i<30)return 2;if(i<50)return 3;if(i<100)return 5;if(i<300)return 10;if(i<500)return 60;return i/4}self.extendSub=function(sub){sub.cl="empty";var date=new Date(sub.timestamp*1e3);sub.time=date.toLocaleString();if(sub.compilation_outcome==null){sub.status="Compilazione in corso...";updInterval[sub.id]=intervalFromAttempts(updAttempts[sub.id])}else if(sub.compilation_outcome=="fail"){sub.cl="wrong";sub.status="Compilazione fallita"}else if(sub.evaluation_outcome==null){sub.status="Valutazione in corso...";updInterval[sub.id]=intervalFromAttempts(updAttempts[sub.id])}else if(sub.evaluation_outcome=="fail"){sub.cl="wrong";sub.status="Valutazione fallita"}else if(sub.score==null){sub.status="Assegnazione del punteggio";updInterval[sub.id]=intervalFromAttempts(updAttempts[sub.id])}else{var score=sub.score;if(100-score<.01)sub.cl="correct";else if(score<.01)sub.cl="wrong";else sub.cl="partial";sub.status=score+" / 100"}return sub};self.addSub=function(name,sub){$rootScope.submissions[name].unshift(self.extendSub(sub))};self.replaceSub=function(id,sub){for(name in $rootScope.submissions){for(var i=0;i<$rootScope.submissions[name].length;i++){if($rootScope.submissions[name][i]["id"]==id){$rootScope.submissions[name][i]=self.extendSub(sub);return}}}};self.subDetails=function(id){$http.post(API_PREFIX+"submission",{action:"details",id:id}).success(function(data,status,headers,config){self.replaceSub(id,data);$rootScope.curSub=id;$rootScope.actualCurSub=data}).error(function(data,status,headers,config){notificationHub.serverError(status)})};function updSubs(){timeout=$timeout(function(){for(var i in updInterval){updInterval[i]--;if(updInterval[i]==0){if(updAttempts[i]==undefined)updAttempts[i]=-1;updAttempts[i]++;delete updInterval[i];$http.post(API_PREFIX+"submission",{action:"details",id:i}).success(function(data,status,headers,config){self.replaceSub(data["id"],data);if(data["score_details"]!==null){self.submitCompleted=true}}).error(function(data,status,headers,config){notificationHub.serverError(status)})}}updSubs()},1e3)}return self}).controller("TasklistSkel",function($scope,$state,$stateParams,contestManager){$scope.cm=contestManager;$scope.search={};$scope.pagination={perPage:15};$scope.reloadTasks=function(){var new_q=$scope.search.q;if(new_q!=null&&new_q.length<1){new_q=null}var new_order=$scope.search.order;if(new_order==="default"){new_order=null}$state.go("^.page",{pageNum:1,tag:$scope.search.tag,q:new_q,order:new_order})}}).controller("TasklistPage",function($scope,$stateParams,$state,$http,notificationHub,multiplierToStyleFilter,multiplierToScoreFilter,l10n,API_PREFIX){$scope.pagination.current=+$stateParams.pageNum;$scope.search.q=$stateParams.q;$scope.search.order=$stateParams.order;if(!$scope.search.order){$scope.search.order="default"}$scope.search.tag_string="";if($scope.search.tag!=null){$scope.search.tags=$scope.search.tag.split(",")}$scope.getTasks=function(){$http.post(API_PREFIX+"task",{search:$stateParams.q,tag:$stateParams.tag,order:$stateParams.order,first:$scope.pagination.perPage*($scope.pagination.current-1),last:$scope.pagination.perPage*$scope.pagination.current,action:"list"}).success(function(data,status,headers,config){$scope.tasks=data["tasks"];$scope.search.tag_string=(data["tags"]||[]).join(" + ");$scope.pagination.total=Math.ceil(data["num"]/$scope.pagination.perPage);if(data["num"]===0){$scope.pagination.total=1}}).error(function(data,status,headers,config){notificationHub.serverError(status)})};$scope.getTasks()}).controller("TagsPage",function($scope,$http,notificationHub,API_PREFIX){$scope.getTags=function(){$http.post(API_PREFIX+"tag",{action:"list"}).success(function(data,status,headers,config){$scope.tags=data["tags"]}).error(function(data,status,headers,config){notificationHub.serverError(status)})};$scope.getTags()}).controller("HelpCtrl",function($scope,$stateParams,$http,notificationHub,API_PREFIX){$scope.data={testcase:"000",task:$stateParams.taskName,loading:false,done:false};$http.post(API_PREFIX+"help",{task:$scope.data.task,action:"check"}).success(function(data,status,headers,config){$scope.testcases=data["testcases"]}).error(function(data,status,headers,config){notificationHub.serverError(status)});$scope.askHelp=function(){$scope.data.loading=true;$http.post(API_PREFIX+"help",{task:$scope.data.task,testcase:$scope.data.testcase,action:"get"}).success(function(data,status,headers,config){if(data.success==1){var input=document.getElementById("input-download");input.href=API_PREFIX+"files/"+data["input"]+"/input.txt";input.onclick=function(){input.className="btn btn-primary"};var output=document.getElementById("output-download");output.href=API_PREFIX+"files/"+data["output"]+"/output.txt";output.onclick=function(){output.className="btn btn-primary"};$scope.data.done=true}else{notificationHub.createAlert("warning",data.error,5)}$scope.data.loading=false}).error(function(data,status,headers,config){notificationHub.serverError(status)})}}).controller("TechniquesPage",function($scope,$http,notificationHub,API_PREFIX){$scope.tags=[];$http.post(API_PREFIX+"tag",{action:"list",filter:"techniques"}).success(function(data,status,headers,config){var tags=data["tags"];for(var idx in tags){$scope.tags.push(tags[idx])}}).error(function(data,status,headers,config){notificationHub.serverError(status)})}).controller("EventsPage",function($scope,$http,notificationHub,API_PREFIX){$scope.ioi=[];$http.post(API_PREFIX+"tag",{action:"list",filter:"events"}).success(function(data,status,headers,config){var latest=2004;var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=data["tags"][Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var tag=_step.value;if(/^ioi2[0-9]{3}$/.test(tag)){latest=Math.max(parseInt(tag.substring(3))||0)}}}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&_iterator.return){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}for(var i=latest;i>=2004;i--){$scope.ioi.push(i)}}).error(function(data,status,headers,config){notificationHub.serverError(status)})});"use strict";angular.module("cmsocial").controller("TestsCtrl",function($scope,$http,notificationHub,l10n,API_PREFIX){$http.post(API_PREFIX+"test",{action:"list"}).success(function(data,status,headers,config){$scope.tests=data["tests"];for(var i=0;i<$scope.tests.length;i++){if(2*$scope.tests[i]["score"]==undefined)continue;if(2*$scope.tests[i]["score"]<$scope.tests[i]["max_score"])$scope.tests[i]["status"]="wrong";else if(4*$scope.tests[i]["score"]<$scope.tests[i]["max_score"]*3)$scope.tests[i]["status"]="partial";else if($scope.tests[i]["score"]<$scope.tests[i]["max_score"])$scope.tests[i]["status"]="empty";else $scope.tests[i]["status"]="correct"}}).error(function(data,status,headers,config){notificationHub.serverError(status)})}).controller("TestpageCtrl",function($scope,$stateParams,$http,$sce,notificationHub,l10n,API_PREFIX){$scope.score=function(){var data=[];for(var i in $scope.test["questions"]){var q=$scope.test["questions"][i];if(q["type"]=="choice")data.push(+q.ans);else{var tmp={};for(var a=0;a<q["Answers"].length;a++){var ans=q["Answers"][a];tmp[ans.name]=[];for(var j in ans.input){tmp[ans.name].push(ans.input[j].ans)}}data.push(tmp)}}$http.post(API_PREFIX+"test",{answers:data,action:"answer",test_name:$stateParams.testName}).success(function(data,status,headers,config){var tot=0;var maxtot=0;for(var i=0;i<$scope.test["questions"].length;i++){$scope.test["questions"][i]["score"]=data[i][0];$scope.test["questions"][i]["status"]=data[i][1];tot+=data[i][0];maxtot+=$scope.test["questions"][i]["max_score"]}$scope.test["max_score"]=maxtot;$scope.test["score"]=tot;if(2*tot<maxtot)$scope.test["status"]="wrong";else if(4*tot<maxtot*3)$scope.test["status"]="partial";else if(tot<maxtot)$scope.test["status"]="empty";else $scope.test["status"]="correct"}).error(function(data,status,headers,config){notificationHub.serverError(status)})};$http.post(API_PREFIX+"test",{action:"get",test_name:$stateParams.testName}).success(function(data,status,headers,config){$scope.test=data;for(var i in data["questions"]){data["questions"][i]["text"]=$sce.trustAsHtml(data["questions"][i]["text"]);if(data["questions"][i]["max_score"]==1)data["questions"][i]["scorestring"]="1 punto";else data["questions"][i]["scorestring"]=data["questions"][i]["max_score"]+" punti";data["questions"][i].name="question"+i;if(data["questions"][i]["type"]=="choice"){for(var a in data["questions"][i]["choices"]){data["questions"][i]["choices"][a]=$sce.trustAsHtml(data["questions"][i]["choices"][a])}}else{var tmp=[];for(var a in data["questions"][i]["answers"]){var ans=data["questions"][i]["answers"][a];var t={};t.name=ans[0];t.input=[];for(var j=0;j<ans[1];j++){t.input.push({name:data["questions"][i].name+ans[0]+j})}tmp.push(t)}data["questions"][i]["Answers"]=tmp}}setTimeout("MathJax.Hub.Queue(['Typeset',MathJax.Hub])",100)}).error(function(data,status,headers,config){notificationHub.serverError(status)})});"use strict";angular.module("cmsocial").factory("userbarManager",function(){var activeTab=0;return{isActiveTab:function isActiveTab(tab){return tab==activeTab},setActiveTab:function setActiveTab(tab){activeTab=tab}}}).controller("UserbarCtrl",function($scope,$stateParams,$http,$rootScope,userManager,notificationHub,userbarManager){$scope.isActiveTab=userbarManager.isActiveTab;$scope.isLogged=userManager.isLogged;$scope.myName=function(){return userManager.getUser().username};$scope.isMe=function(){return $stateParams.userId===userManager.getUser().username}}).factory("userManager",function($http,$timeout,$sce,$cookies,notificationHub,contestManager,l10n,API_PREFIX){var user={};var getIt=function getIt(){return user};var isUserLogged=function isUserLogged(){return sessionStorage.getItem("user")!==null};var refreshUser=function refreshUser(){$http.post(API_PREFIX+"user",{action:"me"}).success(function(data,status,headers,config){if(data.success===0){if(isUserLogged()){notificationHub.createAlert("danger",l10n.get("Login error"),3)}sessionStorage.removeItem("user")}else{user=data["user"];sessionStorage.setItem("user",JSON.stringify(user));contestManager.refreshContest()}}).error(function(data,status,headers,config){notificationHub.serverError(status)})};var logoutUser=function logoutUser(){$http.post(API_PREFIX+"user",{action:"logout"}).success(function(data,status,headers,config){if(data.success===0){notificationHub.createAlert("danger","Try again in a few minutes",3)}else{user={};sessionStorage.removeItem("user");notificationHub.createAlert("success",l10n.get("Goodbye"),1);contestManager.refreshContest()}}).error(function(data,status,headers,config){notificationHub.serverError(status)})};refreshUser();return{getUser:getIt,isLogged:function isLogged(){return isUserLogged()},getGravatar:function getGravatar(user,size){return $sce.trustAsUrl("//gravatar.com/avatar/"+user.mail_hash+"?d=identicon&s="+size)},refresh:refreshUser,signout:logoutUser}}).controller("ForgotAccountCtrl",function($scope,$http,$state,notificationHub,l10n,API_PREFIX){$scope.user={recoverEmail:"",recoverCode:""};$scope.recover=function(){$("#loading-indicator").show();$http.post(API_PREFIX+"user",{action:"recover",email:$scope.user.recoverEmail,code:$scope.user.recoverCode}).then(function(ctx){if(ctx.data.success===1){notificationHub.createAlert("success",l10n.get(ctx.data.message),10);$("#code-div").slideDown("slow");$("#recover-button").text(l10n.get("Confirm code"));$("#recover-code").focus()}else{notificationHub.createAlert("danger",l10n.get(ctx.data.error),2)}if(ctx.data.type===1&&ctx.data.success===1){$state.go("overview")}$("#loading-indicator").hide()},function(ctx){notificationHub.serverError(ctx.status);$("#loading-indicator").hide()})}}).controller("SignCtrl",function($scope,$http,$state,userManager,notificationHub,l10n,contestManager,API_PREFIX){$scope.user={username:"",password:""};$scope.isLogged=userManager.isLogged;$scope.signin=function(){$scope.user.username=$("#username").val();$scope.user.password=$("#password").val();$http.post(API_PREFIX+"user",{action:"login",username:$scope.user.username,password:$scope.user.password,keep_signed:$("#keep_signed").prop("checked")}).success(function(data,status,headers,config){if(data.success==1){userManager.refresh();notificationHub.createAlert("success",l10n.get("Welcome back")+", "+$scope.user.username,2);contestManager.refreshContest()}else if(data.success===0){notificationHub.createAlert("danger",l10n.get("Login error"),3)}}).error(function(data,status,headers,config){notificationHub.serverError(status);contestManager.refreshContest()})};$scope.signout=function(){userManager.signout()}}).controller("SSOCtrl",function($scope,$http,notificationHub,$location,l10n,$state,contestManager,API_PREFIX){$http.post(API_PREFIX+"sso",{payload:$location.$$search.sso,sig:$location.$$search.sig}).success(function(data,status,headers,config){if(data.success===1){contestManager.getContestPromise().then(function(response){window.location.replace(contestManager.getContest().forum_url+"/session/sso_login?"+data.parameters)})}else{notificationHub.createAlert("danger",l10n.get("Sign on failed - please make sure to be logged in on the main website!"),3);$state.go("overview")}}).error(function(data,status,headers,config){notificationHub.serverError(status)})}).controller("UserpageCtrl",function($scope,$http,notificationHub,$stateParams,$state,$timeout,userbarManager,l10n,API_PREFIX){userbarManager.setActiveTab(1);$timeout(function(){$(".my-tooltip").tooltip()});$http.post(API_PREFIX+"user",{action:"get",username:$stateParams.userId}).success(function(data,status,headers,config){if(data.success===1){$scope.user=data}else{notificationHub.createAlert("danger",l10n.get("User doesn't exist"),3);$state.go("overview")}}).error(function(data,status,headers,config){notificationHub.serverError(status)})}).controller("EdituserCtrl",function($scope,$state,$stateParams,$http,userbarManager,userManager,notificationHub,l10n,API_PREFIX){if(userManager.getUser().username!==$stateParams.userId){$state.go("overview")}userbarManager.setActiveTab(3);$scope.user={password:"",password2:"",password3:"",email:""};$scope.submit=function(){var data={};data["action"]="update";data["email"]=$scope.user.email;if($scope.user.password2.length>0){if($scope.user.password3!==$scope.user.password2)return notificationHub.createAlert("danger",l10n.get("Passwords don't match"),2);if($scope.user.password.length<1)return notificationHub.createAlert("danger",l10n.get("You must specify your password"),2);data["old_password"]=$scope.user.password;data["password"]=$scope.user.password2}$http.post(API_PREFIX+"user",data).success(function(data,status,headers,config){if(data.success==1){userManager.refresh();notificationHub.createAlert("success",l10n.get("Changes recorded"),2);$state.go("^.profile")}else if(data.success==0){if(data.error===undefined)notificationHub.createAlert("warning",l10n.get("No changes recorded"),3);else notificationHub.createAlert("danger",l10n.get(data.error),3)}}).error(function(data,status,headers,config){notificationHub.serverError(status)})}}).filter("levelClass",function(){return function(input){switch(input){case 0:return"admin";case 1:return"monica";case 2:return"tutor";case 3:return"teacher";case 4:return"superuser";case 5:return"user";case 6:return"newbie";case 7:return"guest";default:return"unknown"}}});
